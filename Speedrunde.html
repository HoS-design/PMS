<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8">
<title>Speedrunde ‚Äì Zeitformen</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root{
  --bg:#0b1220;
  --card:#121a33;
  --text:#f3f6ff;
  --muted:#b8c2ff;
  --accent:#ff4d4d;
  --ok:#3ddc97;
  --no:#ff6b6b;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:linear-gradient(160deg,#0b1220,#070d1a);
  color:var(--text);
}

header{
  max-width:900px;
  margin:0 auto;
  padding:20px;
  position:relative;
}

.meme{
  position:absolute;
  right:16px;
  top:14px;
  width:110px;
  image-rendering:pixelated;
  transform:rotate(4deg);
}

.badge{
  display:inline-block;
  padding:6px 12px;
  border-radius:999px;
  background:rgba(255,255,255,.08);
  margin-bottom:10px;
}

main{
  max-width:900px;
  margin:0 auto;
  padding:16px;
}

.card{
  background:var(--card);
  border-radius:18px;
  padding:16px;
}

.row{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}

.btn{
  padding:10px 16px;
  border-radius:14px;
  border:none;
  font-weight:700;
  cursor:pointer;
  background:#2a3cff;
  color:white;
}

.btn.secondary{
  background:rgba(255,255,255,.12);
}

.option{
  padding:10px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.2);
  background:rgba(0,0,0,.2);
  color:white;
  cursor:pointer;
}

.option.ok{background:rgba(61,220,151,.35)}
.option.no{background:rgba(255,107,107,.35)}

#question{font-size:1.15rem;margin-bottom:12px}
#answers{display:grid;gap:8px}

#resultBox{
  display:none;
  margin-top:14px;
  padding:12px;
  border-radius:14px;
  border:1px dashed rgba(255,255,255,.25);
}

.mini{
  display:none;
  margin-top:16px;
  padding:12px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.2);
}

.miniBox{
  margin:10px 0;
  padding:16px;
  min-height:110px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.25);
  cursor:pointer;
}
.miniBox.wait{background:rgba(0,0,0,.35)}
.miniBox.go{background:rgba(255,0,0,.45)}
</style>
</head>

<body>

<header>
  <img src="chatistthisreal.png"
       onerror="this.onerror=null;this.src='chatisthisreal.png';"
       alt="Chat is this real?"
       class="meme">

  <span class="badge">‚ö° Speedrunde ‚Ä¢ Zeitformen ‚Ä¢ HoS ‚Ä¢ 60 Sekunden</span>
  <h1>Wie schnell bist du? üèÅ</h1>
  <p>60 Sekunden. Klick dich durch ‚Äì schnell & fair üòÑ</p>
</header>

<main>
  <div class="card">
    <div class="row">
      <button class="btn" id="startBtn">Start üöÄ</button>
      <div>Punkte: <b id="score">0</b></div>
      <div>Zeit: <b id="time">60</b>s</div>
    </div>

    <div id="question"></div>
    <div id="answers"></div>

    <div id="resultBox"></div>

    <!-- Reaktionsspiel -->
    <section class="mini" id="miniGame">
      <h3>üéÆ Bonus-Spiel: Reaktion</h3>
      <div class="miniBox" id="rtBox">
        <span id="rtText">Start dr√ºcken und warten‚Ä¶</span>
      </div>
      <div class="row">
        <button class="btn" id="rtStart">Start üéØ</button>
        <button class="btn secondary" id="rtBack">Zur√ºck ‚Ü©Ô∏è</button>
      </div>
    </section>
  </div>
</main>

<script>
/* ================== STATE ================== */
const startBtn = document.getElementById("startBtn");
const questionEl = document.getElementById("question");
const answersEl = document.getElementById("answers");
const scoreEl = document.getElementById("score");
const timeEl = document.getElementById("time");
const resultBox = document.getElementById("resultBox");

/* Mini-Game */
const miniGame = document.getElementById("miniGame");
const rtBox = document.getElementById("rtBox");
const rtText = document.getElementById("rtText");
const rtStart = document.getElementById("rtStart");
const rtBack = document.getElementById("rtBack");

let running=false, score=0, time=60, timer=null;
let current=null;

/* ================== FRAGEN ================== */
const options = ["Pr√§sens","Pr√§teritum","Perfekt","Plusquamperfekt","Futur I","Futur II"];

const pool = [
  {type:"pick", text:"Ich gehe morgen spazieren.", answer:"Pr√§sens"},
  {type:"pick", text:"Ich ging nach Hause.", answer:"Pr√§teritum"},
  {type:"pick", text:"Ich habe gegessen.", answer:"Perfekt"},
  {type:"pick", text:"Ich hatte gegessen, bevor ich ging.", answer:"Plusquamperfekt"},
  {type:"pick", text:"Ich werde lernen.", answer:"Futur I"},
  {type:"pick", text:"Ich werde gelernt haben.", answer:"Futur II"},

  {type:"tf", text:"Ich hatte gegessen ‚Üí Perfekt", correct:false},
  {type:"tf", text:"Er wird jetzt zu Hause sein ‚Üí Vermutung", correct:true},

  {type:"use", text:"Ich gehe morgen zum Arzt.", choices:["Plan/Zukunft","Vermutung","Vorvergangenheit"], answer:"Plan/Zukunft"},
  {type:"use", text:"Er wird wohl schon gegangen sein.", choices:["Zukunft","Vermutung (Vergangenheit)","Gewohnheit"], answer:"Vermutung (Vergangenheit)"}
];

/* ================== LOGIK ================== */
function pickQuestion(){
  return pool[Math.floor(Math.random()*pool.length)];
}

function renderQuestion(){
  current = pickQuestion();
  answersEl.innerHTML="";

  if(current.type==="tf"){
    questionEl.innerHTML = "‚ö° Richtig oder falsch?<br>"+current.text;
    ["Richtig","Falsch"].forEach(o=>mkBtn(o));
  }
  else if(current.type==="use"){
    questionEl.innerHTML = "üéØ Verwendung?<br>"+current.text;
    current.choices.forEach(o=>mkBtn(o));
  }
  else{
    questionEl.innerHTML = current.text;
    options.forEach(o=>mkBtn(o));
  }
}

function mkBtn(text){
  const b=document.createElement("button");
  b.className="option";
  b.textContent=text;
  b.onclick=()=>choose(text,b);
  answersEl.appendChild(b);
}

function choose(val,btn){
  if(!running) return;
  let correct =
    current.type==="tf"
      ? (current.correct ? "Richtig":"Falsch")
      : current.answer;

  if(val===correct){
    score++;
    scoreEl.textContent=score;
    btn.classList.add("ok");
  } else {
    btn.classList.add("no");
  }
  setTimeout(renderQuestion,350);
}

function start(){
  score=0; time=60;
  scoreEl.textContent=0;
  timeEl.textContent=60;
  resultBox.style.display="none";
  miniGame.style.display="none";
  running=true;
  renderQuestion();

  timer=setInterval(()=>{
    time--;
    timeEl.textContent=time;
    if(time<=0) finish();
  },1000);
}

function finish(){
  running=false;
  clearInterval(timer);
  questionEl.textContent="";
  answersEl.innerHTML="";
  resultBox.style.display="block";
  resultBox.innerHTML=`
    <b>Time‚Äôs up!</b><br>
    Score: <b>${score}</b><br><br>
    <button class="btn" onclick="showMini()">üéÆ Bonus-Spiel starten</button>
  `;
}

/* ================== MINI-GAME ================== */
let rtTimer=null, goAt=0;

function showMini(){
  miniGame.style.display="block";
}

function startRT(){
  rtBox.className="miniBox wait";
  rtText.textContent="Warte‚Ä¶";
  clearTimeout(rtTimer);
  rtTimer=setTimeout(()=>{
    rtBox.className="miniBox go";
    rtText.textContent="JETZT!";
    goAt=performance.now();
  },800+Math.random()*2000);
}

rtBox.onclick=()=>{
  if(rtBox.classList.contains("go")){
    const ms=Math.round(performance.now()-goAt);
    rtText.textContent=`${ms} ms ‚ö°`;
    rtBox.className="miniBox";
  }
};

rtStart.onclick=startRT;
rtBack.onclick=()=>miniGame.style.display="none";
startBtn.onclick=start;
</script>

</body>
</html>