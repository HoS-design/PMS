<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geschichte Kompendium: WWI & Faschismus</title>
    <style>
        /* HoS-Style v5.0 (Textbook Edition)
           - Typografie für lange Lesetexte optimiert
           - Klare Hierarchien & visuelle Anker
           - Fokus auf Vollständigkeit
        */
        :root {
            --bg-body: #f5f7fa;
            --bg-paper: #ffffff;
            --text-main: #2d3436;
            --text-light: #636e72;
            --primary: #2c3e50; /* Akademisches Dunkelgrau/Blau */
            --accent: #2980b9; /* Seriöses Blau für Highlights */
            --success: #27ae60;
            --error: #c0392b;
            --border-radius: 8px;
            --shadow-subtle: 0 2px 8px rgba(0,0,0,0.05);
            --shadow-card: 0 4px 20px rgba(0,0,0,0.08);
            --font-stack: 'Georgia', 'Times New Roman', serif; /* Serif für Lesetexte */
            --font-ui: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            font-family: var(--font-ui);
            background-color: var(--bg-body);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* --- HEADER --- */
        header {
            background: #fff;
            border-bottom: 4px solid var(--accent);
            padding: 30px 20px;
            text-align: center;
            box-shadow: var(--shadow-subtle);
        }
        header h1 { 
            margin: 0; 
            font-family: var(--font-ui); 
            font-weight: 800; 
            font-size: 1.8rem; 
            color: var(--primary); 
            text-transform: uppercase; 
            letter-spacing: 1px;
        }
        header p { margin: 10px 0 0; color: var(--text-light); font-size: 1rem; }

        /* --- NAVIGATION --- */
        nav {
            background: #fff;
            position: sticky;
            top: 0;
            z-index: 100;
            padding: 15px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        .nav-btn {
            background: transparent;
            border: 2px solid transparent;
            padding: 8px 25px;
            font-family: var(--font-ui);
            font-weight: 600;
            color: var(--text-light);
            cursor: pointer;
            border-radius: 25px;
            transition: all 0.3s ease;
        }
        .nav-btn:hover { color: var(--accent); background: #f0f8ff; }
        .nav-btn.active {
            background: var(--accent);
            color: white;
            box-shadow: 0 4px 10px rgba(41, 128, 185, 0.3);
        }

        /* --- MAIN CONTAINER --- */
        main {
            flex: 1;
            width: 100%;
            max-width: 900px;
            margin: 40px auto;
            padding: 0 20px;
            box-sizing: border-box;
        }

        .section { display: none; animation: fadeIn 0.5s ease; }
        .section.active { display: block; }

        /* --- TEXTBOOK CONTENT STYLES --- */
        .chapter {
            background: var(--bg-paper);
            padding: 50px;
            margin-bottom: 40px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-card);
        }
        
        .chapter h2 {
            font-family: var(--font-ui);
            color: var(--accent);
            border-bottom: 2px solid #eee;
            padding-bottom: 15px;
            margin-top: 0;
            font-size: 1.6rem;
        }

        .chapter h3 {
            font-family: var(--font-ui);
            color: var(--primary);
            margin-top: 40px;
            font-size: 1.3rem;
            border-left: 4px solid var(--accent);
            padding-left: 15px;
        }

        /* Lesetext-Stil */
        .content-text {
            font-family: var(--font-stack);
            font-size: 1.1rem;
            line-height: 1.8;
            color: #2d3436;
            margin-bottom: 20px;
            text-align: justify; /* Schulbuch-Look */
        }
        .content-text strong { color: var(--primary); font-weight: 600; }

        /* Info-Boxen */
        .fact-box {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin: 30px 0;
            font-family: var(--font-ui);
            font-size: 0.95rem;
        }
        .fact-box strong { color: var(--error); } /* Rote Hervorhebung für Zahlen */
        .fact-title { 
            display: block; 
            font-weight: bold; 
            text-transform: uppercase; 
            color: var(--text-light); 
            font-size: 0.8rem; 
            margin-bottom: 10px; 
            letter-spacing: 1px;
        }

        /* --- GRAFIKEN --- */
        .graphic-wrapper {
            margin: 40px 0;
            text-align: center;
            padding: 30px;
            background: #fff;
            border: 1px solid #eee;
            border-radius: 8px;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.02);
        }
        .graphic-caption {
            display: block;
            margin-top: 15px;
            font-family: var(--font-ui);
            font-size: 0.9rem;
            color: var(--text-light);
            font-style: italic;
        }
        svg { max-width: 100%; height: auto; }

        /* --- QUIZ STYLES --- */
        .quiz-card {
            background: var(--bg-paper);
            padding: 50px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-card);
            text-align: center;
        }
        .progress-bar {
            height: 8px;
            background: #eee;
            border-radius: 4px;
            margin-bottom: 40px;
            overflow: hidden;
        }
        .progress-fill { height: 100%; background: var(--success); width: 0%; transition: width 0.3s; }

        .question-text { 
            font-family: var(--font-ui); 
            font-size: 1.4rem; 
            font-weight: 600; 
            margin-bottom: 30px; 
            color: var(--primary); 
        }

        /* MC Buttons */
        .options-grid { display: grid; gap: 15px; text-align: left; }
        .option-btn {
            background: #fff;
            border: 2px solid #e0e0e0;
            padding: 18px 25px;
            border-radius: 8px;
            font-size: 1.05rem;
            cursor: pointer;
            transition: all 0.2s;
            color: var(--text-main);
            position: relative;
        }
        .option-btn:hover:not([disabled]) { border-color: var(--accent); background: #f4faff; }
        .option-btn.correct { border-color: var(--success); background: #e8f8f5; color: var(--success); font-weight: bold; }
        .option-btn.wrong { border-color: var(--error); background: #fdedec; color: var(--error); opacity: 0.7; }

        /* Matching */
        .matching-area { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; text-align: left; }
        .match-card {
            padding: 15px;
            background: #fdfdfd;
            border: 2px solid #eee;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.95rem;
            transition: 0.2s;
        }
        .match-card:hover:not(.solved) { border-color: var(--accent); }
        .match-card.selected { background: #d6eaf8; border-color: var(--accent); }
        .match-card.solved { background: #eafaf1; border-color: var(--success); color: var(--success); cursor: default; }

        /* Feedback & Result */
        .feedback-box {
            margin-top: 30px;
            padding: 20px;
            border-radius: 8px;
            text-align: left;
            display: none;
            font-family: var(--font-ui);
        }
        .feedback-box.correct { background: #eafaf1; border-left: 5px solid var(--success); color: #1e8449; }
        .feedback-box.wrong { background: #fdedec; border-left: 5px solid var(--error); color: #c0392b; }

        .next-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 14px 40px;
            border-radius: 30px;
            font-size: 1.1rem;
            cursor: pointer;
            margin-top: 30px;
            font-weight: 600;
            display: none;
            box-shadow: 0 4px 15px rgba(44, 62, 80, 0.3);
        }

        .meme-img { max-width: 250px; border-radius: 8px; margin: 20px auto; display: none; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }

        /* --- FOOTER --- */
        footer {
            margin-top: 50px;
            padding: 30px;
            text-align: center;
            border-top: 1px solid #eee;
            color: #b2bec3;
            background: #fff;
        }
        .insider-icon { height: 24px; vertical-align: middle; opacity: 0.5; margin-left: 10px; transition: opacity 0.3s; }
        .insider-icon:hover { opacity: 1; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 768px) {
            .chapter { padding: 25px; }
            .matching-area { grid-template-columns: 1fr; }
            header h1 { font-size: 1.4rem; }
        }
    </style>
</head>
<body>

<header>
    <h1>Geschichte Kompendium</h1>
    <p>Das digitale Schulbuch: 1. Weltkrieg & Faschismus</p>
</header>

<nav>
    <button class="nav-btn active" onclick="switchView('learn')">Lehrbuch</button>
    <button class="nav-btn" onclick="switchView('quiz')">Prüfung</button>
</nav>

<main>

    <div id="learn-view" class="section active">
        
        <div class="chapter">
            <h2>I. Der Erste Weltkrieg: Ursachen & Ausbruch</h2>
            
            <div class="content-text">
                <p>Der Erste Weltkrieg (1914–1918) war kein plötzliches Ereignis, sondern das Ergebnis jahrelanger Spannungen in Europa. Die Großmächte hatten sich in zwei feindliche Lager gespalten, die durch ein kompliziertes System von Bündnissen aneinandergebunden waren.</p>
            </div>

            <div class="graphic-wrapper">
                <svg viewBox="0 0 600 200">
                    <rect x="20" y="40" width="200" height="120" rx="8" fill="#fff5f5" stroke="#e74c3c" stroke-width="3"/>
                    <text x="120" y="70" text-anchor="middle" font-weight="bold" fill="#c0392b" font-family="sans-serif">MITTELMÄCHTE</text>
                    <line x1="40" y1="80" x2="200" y2="80" stroke="#e74c3c" stroke-width="1"/>
                    <text x="120" y="105" text-anchor="middle" font-family="sans-serif" font-size="14">Deutschland</text>
                    <text x="120" y="130" text-anchor="middle" font-family="sans-serif" font-size="14">Österreich-Ungarn</text>
                    
                    <path d="M 250 80 L 290 120 L 310 60 L 350 100" fill="none" stroke="#2c3e50" stroke-width="4"/>
                    
                    <rect x="380" y="40" width="200" height="120" rx="8" fill="#f0f8ff" stroke="#3498db" stroke-width="3"/>
                    <text x="480" y="70" text-anchor="middle" font-weight="bold" fill="#2980b9" font-family="sans-serif">ENTENTE</text>
                    <line x1="400" y1="80" x2="560" y2="80" stroke="#3498db" stroke-width="1"/>
                    <text x="480" y="100" text-anchor="middle" font-family="sans-serif" font-size="14">Großbritannien</text>
                    <text x="480" y="120" text-anchor="middle" font-family="sans-serif" font-size="14">Frankreich</text>
                    <text x="480" y="140" text-anchor="middle" font-family="sans-serif" font-size="14">Russland (bis 1917)</text>
                </svg>
                <span class="graphic-caption">Abb. 1: Das Bündnissystem 1914 – Ein Pulverfass.</span>
            </div>

            <h3>Das Attentat von Sarajevo</h3>
            <div class="content-text">
                <p>Am <strong>28. Juni 1914</strong> wurde der österreichische Thronfolger Franz Ferdinand in Sarajevo (Bosnien) von einem serbischen Nationalisten erschossen. Dies war der Funke, der das Pulverfass zur Explosion brachte. Österreich-Ungarn erklärte Serbien den Krieg. Aufgrund der Bündnistreue zogen Russland, Deutschland, Frankreich und Großbritannien kurz darauf ebenfalls in den Krieg.</p>
                <p>Deutschland folgte dem sogenannten <strong>Schlieffen-Plan</strong>: Die Idee war, Frankreich im Westen blitzschnell zu besiegen, um sich dann mit voller Kraft gegen Russland im Osten zu wenden. Dieser Plan scheiterte jedoch. Der Vormarsch wurde gestoppt, und der Bewegungskrieg erstarrte.</p>
            </div>
        </div>

        <div class="chapter">
            <h2>II. Die industrielle Hölle & Opferzahlen</h2>
            
            <h3>Stellungskrieg und Materialschlachten</h3>
            <div class="content-text">
                <p>An der <strong>Westfront</strong> (Frankreich/Belgien) entwickelte sich ein grausamer <strong>Stellungskrieg</strong>. Die Armeen gruben sich in kilometerlange Schützengräben ein. Über Jahre hinweg gab es kaum Geländegewinne, aber Millionen Tote. Berüchtigt sind die Schlachten um <strong>Verdun</strong> (1916) und an der Somme.</p>
                <p>Es war der erste industrielle Krieg der Geschichte. Neue Waffen kamen zum Einsatz, die das Töten mechanisierten: Maschinengewehre, Giftgas (z.B. bei Ypern), Panzer (erstmals durch die Briten), Kampfflugzeuge und U-Boote.</p>
            </div>

            <div class="fact-box">
                <span class="fact-title">Die Bilanz des Schreckens</span>
                <p>Nach vier Jahren Krieg waren die Verluste verheerend:</p>
                <ul>
                    <li><strong>ca. 10 Millionen</strong> getötete Soldaten</li>
                    <li><strong>ca. 7 Millionen</strong> zivile Opfer (durch Hunger, Krankheit, Kriegseinwirkungen)</li>
                    <li><strong>ca. 21 Millionen</strong> Verwundete</li>
                </ul>
            </div>
        </div>

        <div class="chapter">
            <h2>III. Das Wendejahr 1917 & Das Ende</h2>
            
            <div class="graphic-wrapper">
                <svg viewBox="0 0 700 100">
                    <line x1="50" y1="50" x2="650" y2="50" stroke="#bdc3c7" stroke-width="4"/>
                    <circle cx="50" cy="50" r="10" fill="#2c3e50"/>
                    <text x="50" y="80" text-anchor="middle" font-family="sans-serif" font-size="12">1914: Beginn</text>
                    <circle cx="250" cy="50" r="10" fill="#95a5a6"/>
                    <text x="250" y="30" text-anchor="middle" font-family="sans-serif" font-size="12">1916: Verdun</text>
                    <circle cx="450" cy="50" r="15" fill="#e67e22"/>
                    <text x="450" y="85" text-anchor="middle" font-family="sans-serif" font-weight="bold" fill="#d35400" font-size="14">1917: WENDE</text>
                    <circle cx="650" cy="50" r="10" fill="#2c3e50"/>
                    <text x="650" y="30" text-anchor="middle" font-family="sans-serif" font-size="12">1918: Ende</text>
                </svg>
                <span class="graphic-caption">Abb. 2: Zeitstrahl - Das entscheidende Jahr 1917.</span>
            </div>

            <div class="content-text">
                <p>Das Jahr 1917 brachte die Entscheidung:</p>
                <ol>
                    <li><strong>Kriegseintritt der USA:</strong> Die USA traten aufseiten der Entente in den Krieg ein. Ihre riesigen wirtschaftlichen Ressourcen und frischen Truppen waren entscheidend für den Sieg über die erschöpften Mittelmächte.</li>
                    <li><strong>Russische Revolution:</strong> In Russland stürzte das Volk den Zaren. Die neuen kommunistischen Machthaber schlossen Frieden und Russland schied aus dem Krieg aus.</li>
                </ol>

                <h3>Die Heimatfront leidet</h3>
                <p>Der Krieg wurde nicht nur an der Front verloren. Durch die britische <strong>Seeblockade</strong> war Deutschland von Importen abgeschnitten. Im berüchtigten <strong>"Steckrübenwinter" 1916/17</strong> verhungerten Zehntausende. Da die Männer an der Front waren, mussten Frauen die Arbeit in Munitionsfabriken übernehmen – ein erster Schritt zur Emanzipation, geboren aus der Not.</p>
                
                <h3>Zusammenbruch und Folgen</h3>
                <p>Im November 1918 kapitulierten die Mittelmächte. Die Monarchien brachen zusammen: Der deutsche Kaiser dankte ab, der österreichische Kaiser Karl musste gehen. </p>
                <p>Der US-Präsident <strong>Woodrow Wilson</strong> forderte in seinem <strong>14-Punkte-Programm</strong> das "Selbstbestimmungsrecht der Völker". Dies wurde jedoch im Friedensvertrag von Versailles nur teilweise umgesetzt. Deutschland erhielt die <strong>alleinige Kriegsschuld</strong> (Artikel 231) und musste hohe Reparationen zahlen.</p>
            </div>
        </div>

        <div class="chapter">
            <h2>IV. Die Neuordnung Europas</h2>
            <div class="content-text">
                <p>Die Landkarte Europas veränderte sich radikal. Alte Großreiche verschwanden.</p>
            </div>
            
            <div class="graphic-wrapper">
                <svg viewBox="0 0 500 250">
                    <circle cx="250" cy="125" r="100" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="2" stroke-dasharray="5,5"/>
                    <text x="250" y="130" text-anchor="middle" fill="#bdc3c7" font-size="20" font-family="serif" opacity="0.3">ÖSTERREICH-UNGARN</text>
                    
                    <circle cx="180" cy="100" r="40" fill="#a9dfbf"/>
                    <text x="180" y="105" text-anchor="middle" font-size="12" font-family="sans-serif">Österreich</text>
                    
                    <circle cx="320" cy="100" r="40" fill="#a9dfbf"/>
                    <text x="320" y="105" text-anchor="middle" font-size="12" font-family="sans-serif">Ungarn</text>
                    
                    <circle cx="250" cy="190" r="35" fill="#a9dfbf"/>
                    <text x="250" y="195" text-anchor="middle" font-size="10" font-family="sans-serif">Jugoslawien</text>
                    
                    <circle cx="250" cy="40" r="35" fill="#a9dfbf"/>
                    <text x="250" y="45" text-anchor="middle" font-size="10" font-family="sans-serif">Tschechoslowakei</text>
                </svg>
                <span class="graphic-caption">Abb. 3: Der Zerfall des Vielvölkerstaates in Nationalstaaten.</span>
            </div>
        </div>

        <div class="chapter">
            <h2>V. Faschismus & Nationalsozialismus</h2>
            
            <div class="content-text">
                <p>In der instabilen Zeit nach dem Krieg entstanden Diktaturen. Benito Mussolini begründete in Italien den <strong>Faschismus</strong>. Adolf Hitler adaptierte dieses System für Deutschland.</p>
                <p>Allen faschistischen Systemen sind folgende Merkmale gemein:</p>
            </div>

            <div class="graphic-wrapper">
                <svg viewBox="0 0 400 250">
                    <polygon points="50,230 350,230 200,20" fill="#34495e"/>
                    <line x1="125" y1="125" x2="275" y2="125" stroke="white" stroke-width="2"/>
                    <line x1="165" y1="70" x2="235" y2="70" stroke="white" stroke-width="2"/>
                    
                    <text x="200" y="60" text-anchor="middle" fill="white" font-weight="bold" font-family="sans-serif">DER FÜHRER</text>
                    <text x="200" y="110" text-anchor="middle" fill="white" font-size="12" font-family="sans-serif">Partei / Elite</text>
                    <text x="200" y="180" text-anchor="middle" fill="white" font-size="14" font-family="sans-serif">VOLK (Volksgemeinschaft)</text>
                    
                    <text x="360" y="120" fill="#c0392b" font-size="12" font-family="sans-serif">Keine Demokratie</text>
                    <text x="360" y="140" fill="#c0392b" font-size="12" font-family="sans-serif">Keine Opposition</text>
                    <text x="40" y="120" text-anchor="end" fill="#c0392b" font-size="12" font-family="sans-serif">Befehl & Gehorsam</text>
                </svg>
                <span class="graphic-caption">Abb. 4: Das Führerprinzip – Eine Pyramide ohne Freiheit.</span>
            </div>

            <h3>Der Unterschied: Nationalsozialismus</h3>
            <div class="content-text">
                <p>Der deutsche Nationalsozialismus weist alle Merkmale des Faschismus auf (Führerkult, Propaganda, Gewalt, Militarismus). Er besitzt jedoch ein zentrales Alleinstellungsmerkmal: <strong>Den biologischen Rassismus und Antisemitismus.</strong></p>
                <p>Hitlers Weg zur Macht:</p>
                <ul>
                    <li><strong>1923:</strong> Gescheiterter Putsch ("Marsch auf die Feldherrnhalle"), Haft, Schreiben von "Mein Kampf".</li>
                    <li><strong>1933:</strong> Ernennung zum Reichskanzler.</li>
                    <li><strong>1934:</strong> Nach Hindenburgs Tod vereinigte Hitler die Ämter zum "Führer und Reichskanzler".</li>
                </ul>
                <p>Ein wichtiges Werkzeug war der <strong>Volksempfänger</strong> (Radio), der die NS-Propaganda in jeden Haushalt brachte.</p>
            </div>
        </div>

    </div>

    <div id="quiz-view" class="section">
        <div class="quiz-card">
            <div id="quiz-intro">
                <h2>Prüfungssimulation</h2>
                <p>Diese Prüfung deckt alle Inhalte des digitalen Schulbuchs ab. Sie enthält Multiple Choice und Zuordnungsaufgaben.</p>
                <div style="margin: 20px 0; color: var(--text-light); font-size: 0.9rem;">
                    10 Fragen | Zufällige Auswahl | Sofortiges Feedback
                </div>
                <button class="next-btn" style="display:inline-block;" onclick="startQuiz()">Prüfung starten</button>
            </div>

            <div id="quiz-active" style="display:none;">
                <div class="progress-bar"><div id="progress-fill" class="progress-fill"></div></div>
                <div id="question-container"></div>
                <div id="feedback-box" class="feedback-box"></div>
                <button id="next-btn" class="next-btn" onclick="nextQuestion()">Weiter</button>
            </div>

            <div id="quiz-result" style="display:none;">
                <h2>Ergebnis</h2>
                <div style="font-size: 3.5rem; color: var(--accent); font-weight: bold; margin: 20px 0;" id="score-display">0%</div>
                <img src="chatisthisreal.png" id="meme-reward" class="meme-img" alt="Reward">
                <p id="result-msg" class="content-text" style="text-align: center;"></p>
                <button class="next-btn" style="display:inline-block;" onclick="startQuiz()">Prüfung wiederholen</button>
            </div>
        </div>
    </div>

</main>

<footer>
    <div>HoS Education Suite | Version 5.0 (Ultimate)</div>
    <div style="margin-top: 10px;">
        <img src="chatisthisreal.png" class="insider-icon" title="Is this real?">
    </div>
</footer>

<script>
    // --- DATENBANK ---
    const questionPool = [
        // MC FRAGEN
        {
            type: 'mc',
            q: "Wie viele Soldaten starben schätzungsweise im Ersten Weltkrieg?",
            options: ["ca. 1 Million", "ca. 10 Millionen", "ca. 500.000", "ca. 25 Millionen"],
            correct: 1,
            info: "Es waren ca. 10 Millionen Soldaten. Hinzu kamen ca. 7 Millionen Zivilisten."
        },
        {
            type: 'mc',
            q: "Was beinhaltete der 'Schlieffen-Plan'?",
            options: ["Einen Seekrieg gegen England", "Einen schnellen Sieg über Frankreich, dann Angriff auf Russland", "Ein Bündnis mit den USA", "Die Verteidigung der Alpen"],
            correct: 1,
            info: "Deutschland wollte einen Zweifrontenkrieg vermeiden, indem es Frankreich blitzschnell besiegt. Der Plan scheiterte."
        },
        {
            type: 'mc',
            q: "Was geschah im 'Wendejahr' 1917?",
            options: ["Hitler wurde Kanzler", "Russland schied aus, die USA traten ein", "Kriegsausbruch", "Attentat von Sarajevo"],
            correct: 1,
            info: "Die USA brachten frische Ressourcen für die Entente, während Russland durch die Revolution wegfiel."
        },
        {
            type: 'mc',
            q: "Was forderte US-Präsident Wilson in seinen 14 Punkten?",
            options: ["Die Zerstörung Deutschlands", "Das Selbstbestimmungsrecht der Völker", "Die Gründung einer Monarchie", "Eine weltweite Diktatur"],
            correct: 1,
            info: "Er wollte, dass Völker selbst über ihre Grenzen und Regierung entscheiden (wurde nur teilweise umgesetzt)."
        },
        {
            type: 'mc',
            q: "Was ist das zentrale Unterscheidungsmerkmal des Nationalsozialismus zum Faschismus?",
            options: ["Der Führerkult", "Die Gewalt", "Der biologische Rassismus & Antisemitismus", "Die Pressezensur"],
            correct: 2,
            info: "Der Rassenhass ist spezifisch für die NS-Ideologie."
        },
        {
            type: 'mc',
            q: "Welches Ereignis löste 1914 die Kettenreaktion zum Krieg aus?",
            options: ["Versenkung der Lusitania", "Attentat von Sarajevo", "Einmarsch in Polen", "Russische Revolution"],
            correct: 1,
            info: "Die Ermordung Franz Ferdinands aktivierte die Bündnissysteme."
        },
        {
            type: 'mc',
            q: "Was bedeutete der 'Steckrübenwinter' 1916/17?",
            options: ["Ernteüberschuss", "Hungersnot der Zivilbevölkerung", "Kältewelle an der Front", "Ein Fest"],
            correct: 1,
            info: "Durch die Seeblockade fehlte Nahrung. Steckrüben waren oft das Einzige, was es noch gab."
        },
        {
            type: 'mc',
            q: "Wie sicherte sich Hitler 1934 die absolute Macht?",
            options: ["Durch einen Putsch", "Durch Vereinigung der Ämter Kanzler & Präsident", "Durch eine demokratische Wahl", "Durch den Tod Mussolinis"],
            correct: 1,
            info: "Nach Hindenburgs Tod gab es keine Instanz mehr über ihm."
        },

        // ZUORDNUNGSFRAGEN (MATCHING)
        {
            type: 'match',
            q: "Ordne die Begriffe richtig zu!",
            pairs: [
                {l: "Versailler Vertrag", r: "Alleinschuld Deutschlands"},
                {l: "Stellungskrieg", r: "Kaum Bewegung, Schützengräben"},
                {l: "Heimatfront", r: "Frauenarbeit & Hunger"},
                {l: "Volksempfänger", r: "Propaganda-Radio"}
            ],
            info: "Gut gemacht! Das sind zentrale Begriffe der Epoche."
        },
        {
            type: 'match',
            q: "Wer kämpfte gegen wen?",
            pairs: [
                {l: "Mittelmächte", r: "Deutschland & Österreich-Ungarn"},
                {l: "Entente", r: "Frankreich, GB & Russland"},
                {l: "USA", r: "Trat 1917 der Entente bei"},
                {l: "Italien", r: "Wechselte 1915 zur Entente"}
            ],
            info: "Das Bündnissystem war entscheidend für die Eskalation."
        }
    ];

    // --- LOGIK ---
    let currentQIndex = 0;
    let currentQuestions = [];
    let score = 0;
    let selectedMatch = null;

    function switchView(viewId) {
        document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
        // Button highlight logic simplified for 2 buttons
        if(viewId === 'learn') document.querySelector('button[onclick="switchView(\'learn\')"]').classList.add('active');
        else document.querySelector('button[onclick="switchView(\'quiz\')"]').classList.add('active');

        document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
        document.getElementById(viewId + '-view').classList.add('active');
        window.scrollTo(0,0);
    }

    function startQuiz() {
        // Shuffle and pick 10
        currentQuestions = [...questionPool].sort(() => 0.5 - Math.random()).slice(0, 10);
        currentQIndex = 0;
        score = 0;
        
        document.getElementById('quiz-intro').style.display = 'none';
        document.getElementById('quiz-result').style.display = 'none';
        document.getElementById('quiz-active').style.display = 'block';
        loadQuestion();
    }

    function loadQuestion() {
        const q = currentQuestions[currentQIndex];
        const container = document.getElementById('question-container');
        const feedback = document.getElementById('feedback-box');
        const nextBtn = document.getElementById('next-btn');
        const progress = document.getElementById('progress-fill');

        // Reset UI
        container.innerHTML = '';
        feedback.style.display = 'none';
        feedback.className = 'feedback-box';
        nextBtn.style.display = 'none';
        progress.style.width = `${(currentQIndex / currentQuestions.length) * 100}%`;

        // Render Title
        const title = document.createElement('div');
        title.className = 'question-text';
        title.textContent = `${currentQIndex + 1}. ${q.q}`;
        container.appendChild(title);

        if(q.type === 'mc') renderMC(q, container);
        else renderMatch(q, container);
    }

    function renderMC(q, container) {
        const grid = document.createElement('div');
        grid.className = 'options-grid';
        q.options.forEach((opt, idx) => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.textContent = opt;
            btn.onclick = () => solveMC(btn, idx, q);
            grid.appendChild(btn);
        });
        container.appendChild(grid);
    }

    function solveMC(btn, idx, q) {
        const allBtns = document.querySelectorAll('.option-btn');
        allBtns.forEach(b => b.disabled = true);
        
        const feedback = document.getElementById('feedback-box');
        if(idx === q.correct) {
            btn.classList.add('correct');
            score++;
            feedback.innerHTML = `<strong>Richtig!</strong> ${q.info}`;
            feedback.classList.add('correct');
        } else {
            btn.classList.add('wrong');
            allBtns[q.correct].classList.add('correct');
            feedback.innerHTML = `<strong>Falsch.</strong> ${q.info}`;
            feedback.classList.add('wrong');
        }
        feedback.style.display = 'block';
        document.getElementById('next-btn').style.display = 'inline-block';
    }

    function renderMatch(q, container) {
        const area = document.createElement('div');
        area.className = 'matching-area';
        
        // Prepare items
        let left = q.pairs.map((p, i) => ({ txt: p.l, id: i, side: 'l' }));
        let right = q.pairs.map((p, i) => ({ txt: p.r, id: i, side: 'r' }));
        
        // Shuffle visually
        left.sort(() => Math.random() - 0.5);
        right.sort(() => Math.random() - 0.5);

        [left, right].forEach(list => {
            const col = document.createElement('div');
            col.style.display = 'grid'; col.style.gap = '10px';
            list.forEach(item => {
                const card = document.createElement('div');
                card.className = 'match-card';
                card.textContent = item.txt;
                card.onclick = () => solveMatch(card, item, q);
                col.appendChild(card);
            });
            area.appendChild(col);
        });
        container.appendChild(area);
        
        q._matches = 0;
        selectedMatch = null;
    }

    function solveMatch(card, item, q) {
        if(card.classList.contains('solved')) return;

        if(!selectedMatch) {
            // Select first
            selectedMatch = { card, item };
            card.classList.add('selected');
        } else {
            // Check match
            if(selectedMatch.item.side !== item.side && selectedMatch.item.id === item.id) {
                // Correct
                card.classList.add('solved');
                selectedMatch.card.classList.remove('selected');
                selectedMatch.card.classList.add('solved');
                q._matches++;
                selectedMatch = null;
                
                if(q._matches === q.pairs.length) {
                    score++;
                    const fb = document.getElementById('feedback-box');
                    fb.innerHTML = `<strong>Perfekt!</strong> ${q.info}`;
                    fb.classList.add('correct');
                    fb.style.display = 'block';
                    document.getElementById('next-btn').style.display = 'inline-block';
                }
            } else {
                // Wrong: Reset selection
                selectedMatch.card.classList.remove('selected');
                selectedMatch = null;
                // Optional: visual shake
            }
        }
    }

    function nextQuestion() {
        currentQIndex++;
        if(currentQIndex < currentQuestions.length) loadQuestion();
        else showResult();
    }

    function showResult() {
        document.getElementById('quiz-active').style.display = 'none';
        document.getElementById('quiz-result').style.display = 'block';
        
        const pct = Math.round((score / currentQuestions.length) * 100);
        document.getElementById('score-display').textContent = pct + '%';
        
        const msg = document.getElementById('result-msg');
        const img = document.getElementById('meme-reward');
        
        if(pct === 100) {
            msg.textContent = "Exzellent! Du beherrschst den Stoff perfekt.";
            img.style.display = 'block';
        } else if(pct >= 80) {
            msg.textContent = "Sehr gut! Nur kleine Lücken.";
            img.style.display = 'none';
        } else {
            msg.textContent = "Bitte lies die Kapitel im Lehrbuch nochmal genau durch.";
            img.style.display = 'none';
        }
    }
</script>

</body>
</html>
