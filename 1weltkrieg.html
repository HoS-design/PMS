<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geschichte Lern-App: WWI & Faschismus</title>
    <style>
        /* HoS-Style v4.0 (Visual Learning Edition)
           - Didaktische SVG-Grafiken integriert
           - Klarer Fokus auf Lesbarkeit
        */
        :root {
            --bg-body: #f4f7f6;
            --bg-card: #ffffff;
            --text-main: #2c3e50;
            --text-muted: #607d8b;
            --primary: #0277bd; /* Seriöses Blau */
            --primary-light: #e1f5fe;
            --secondary: #2e7d32; /* Erfolg */
            --accent: #ff8f00; /* Warnung/Wichtig */
            --wrong: #c62828;
            --border-radius: 10px;
            --shadow: 0 4px 20px rgba(0,0,0,0.06);
            --font-stack: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            font-family: var(--font-stack);
            background-color: var(--bg-body);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* HEADER */
        header {
            background: #ffffff;
            border-bottom: 3px solid var(--primary);
            padding: 20px;
            text-align: center;
        }
        header h1 { margin: 0; font-size: 1.5rem; color: var(--primary); text-transform: uppercase; letter-spacing: 1px; }
        header p { margin: 5px 0 0; color: var(--text-muted); font-size: 0.9rem; }

        /* NAVIGATION */
        nav {
            background: white;
            padding: 10px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            display: flex;
            justify-content: center;
            gap: 15px;
        }
        .nav-btn {
            background: #f1f3f4;
            border: none;
            padding: 8px 20px;
            font-size: 0.95rem;
            color: var(--text-main);
            cursor: pointer;
            border-radius: 20px;
            transition: all 0.2s;
            font-weight: 600;
        }
        .nav-btn.active {
            background-color: var(--primary);
            color: white;
        }
        .nav-btn:hover:not(.active) {
            background-color: #e0e0e0;
        }

        /* MAIN CONTENT */
        main {
            flex: 1;
            width: 100%;
            max-width: 850px;
            margin: 30px auto;
            padding: 0 20px;
            box-sizing: border-box;
        }

        .section { display: none; animation: fadeIn 0.4s ease; }
        .section.active { display: block; }

        /* CONTENT STYLING */
        .chapter {
            background: var(--bg-card);
            padding: 40px;
            margin-bottom: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }
        .chapter h2 { 
            color: var(--primary); 
            margin-top: 0; 
            border-bottom: 1px solid #eee; 
            padding-bottom: 15px; 
            font-size: 1.4rem;
        }
        .chapter h3 { margin-top: 30px; color: #455a64; font-size: 1.1rem; }
        
        /* SVG GRAPHICS CONTAINER */
        .graphic-container {
            margin: 25px 0;
            text-align: center;
            padding: 20px;
            background: #fafafa;
            border-radius: 8px;
            border: 1px solid #eee;
        }
        .graphic-caption {
            display: block;
            margin-top: 10px;
            font-size: 0.85rem;
            color: var(--text-muted);
            font-style: italic;
        }
        svg { max-width: 100%; height: auto; }

        /* QUIZ STYLES */
        .quiz-card {
            background: var(--bg-card);
            padding: 40px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            text-align: center;
        }

        .progress-bar {
            height: 6px;
            background: #eee;
            border-radius: 3px;
            margin-bottom: 30px;
            overflow: hidden;
        }
        .progress-fill { height: 100%; background: var(--secondary); width: 0%; transition: width 0.3s; }

        .question-text { font-size: 1.25rem; font-weight: 600; margin-bottom: 25px; color: var(--text-main); }

        /* Multiple Choice Buttons */
        .options-grid { display: flex; flex-direction: column; gap: 12px; }
        .option-btn {
            background: white;
            border: 2px solid #e0e0e0;
            padding: 15px 20px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s;
            text-align: left;
            position: relative;
            color: var(--text-main);
        }
        .option-btn:hover:not([disabled]) { border-color: var(--primary); background: var(--primary-light); }
        .option-btn.correct { border-color: var(--secondary); background: #e8f5e9; color: var(--secondary); font-weight: bold; }
        .option-btn.wrong { border-color: var(--wrong); background: #ffebee; color: var(--wrong); opacity: 0.7; }

        /* Matching Styles */
        .matching-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            text-align: left;
        }
        .match-item {
            padding: 12px;
            background: #f5f5f5;
            border: 2px solid #ddd;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
        }
        .match-item.selected { border-color: var(--primary); background: #e3f2fd; }
        .match-item.solved { border-color: var(--secondary); background: #e8f5e9; opacity: 0.5; cursor: default; }

        .next-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 35px;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 25px;
            font-weight: 600;
            display: none;
        }

        /* Feedback Box */
        .feedback-box {
            margin-top: 20px;
            padding: 15px;
            background: #f1f8e9;
            border: 1px solid var(--secondary);
            border-radius: 8px;
            color: var(--secondary);
            display: none;
            text-align: left;
        }

        /* Result */
        .result-meme { max-width: 200px; margin: 20px auto; display: none; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        
        /* FOOTER */
        footer {
            text-align: center;
            padding: 20px;
            color: #b0bec5;
            font-size: 0.8rem;
            margin-top: 20px;
        }
        .footer-insider { height: 20px; opacity: 0.4; vertical-align: middle; margin-left: 8px; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 600px) {
            .chapter { padding: 25px; }
            .matching-container { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<header>
    <h1>Geschichte Digital</h1>
    <p>Lernplattform für die 4. Klasse</p>
</header>

<nav>
    <button class="nav-btn active" onclick="switchTab('learn')">Lernen</button>
    <button class="nav-btn" onclick="switchTab('quiz')">Prüfung</button>
</nav>

<main>

    <div id="learn-section" class="section active">
        
        <div class="chapter">
            <h2>I. Der Erste Weltkrieg (1914–1918)</h2>
            
            <h3>1. Die verfeindeten Blöcke</h3>
            <p>Europa war vor 1914 in zwei Lager gespalten. Dieses Bündnissystem führte dazu, dass aus einem Konflikt ein Weltkrieg wurde.</p>
            
            <div class="graphic-container">
                <svg viewBox="0 0 500 180" xmlns="http://www.w3.org/2000/svg">
                    <rect x="20" y="40" width="180" height="100" rx="10" fill="#ffebee" stroke="#c62828" stroke-width="2"/>
                    <text x="110" y="70" font-family="sans-serif" font-size="16" font-weight="bold" fill="#c62828" text-anchor="middle">MITTELMÄCHTE</text>
                    <text x="110" y="95" font-family="sans-serif" font-size="14" fill="#333" text-anchor="middle">Deutschland</text>
                    <text x="110" y="115" font-family="sans-serif" font-size="14" fill="#333" text-anchor="middle">Österreich-Ungarn</text>
                    
                    <text x="250" y="100" font-family="sans-serif" font-size="20" font-weight="bold" fill="#999" text-anchor="middle">VS</text>
                    
                    <rect x="300" y="40" width="180" height="100" rx="10" fill="#e3f2fd" stroke="#1565c0" stroke-width="2"/>
                    <text x="390" y="70" font-family="sans-serif" font-size="16" font-weight="bold" fill="#1565c0" text-anchor="middle">ENTENTE</text>
                    <text x="390" y="95" font-family="sans-serif" font-size="14" fill="#333" text-anchor="middle">Großbritannien, Frankreich</text>
                    <text x="390" y="115" font-family="sans-serif" font-size="14" fill="#333" text-anchor="middle">Russland, später USA</text>
                </svg>
                <span class="graphic-caption">Abb. 1: Die gegnerischen Kriegsparteien</span>
            </div>

            <h3>2. Verlauf & Wendejahr</h3>
            <p>Der Krieg begann mit dem Attentat von Sarajevo und endete nach vier Jahren brutalem Stellungskrieg.</p>
            
            <div class="graphic-container">
                <svg viewBox="0 0 600 120" xmlns="http://www.w3.org/2000/svg">
                    <line x1="50" y1="60" x2="550" y2="60" stroke="#546e7a" stroke-width="4"/>
                    
                    <circle cx="50" cy="60" r="10" fill="#fff" stroke="#546e7a" stroke-width="3"/>
                    <text x="50" y="40" font-family="sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#37474f">1914</text>
                    <text x="50" y="90" font-family="sans-serif" font-size="11" text-anchor="middle" fill="#555">Kriegsausbruch</text>
                    
                    <circle cx="216" cy="60" r="8" fill="#fff" stroke="#546e7a" stroke-width="3"/>
                    <text x="216" y="90" font-family="sans-serif" font-size="11" text-anchor="middle" fill="#555">Hölle von Verdun</text>
                    
                    <circle cx="383" cy="60" r="12" fill="#ff8f00" stroke="#546e7a" stroke-width="0"/>
                    <text x="383" y="35" font-family="sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#ef6c00">1917</text>
                    <text x="383" y="90" font-family="sans-serif" font-size="11" text-anchor="middle" fill="#555">WENDEJAHR</text>
                    <text x="383" y="105" font-family="sans-serif" font-size="10" text-anchor="middle" fill="#777">(USA rein, Russland raus)</text>
                    
                    <circle cx="550" cy="60" r="10" fill="#fff" stroke="#546e7a" stroke-width="3"/>
                    <text x="550" y="40" font-family="sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#37474f">1918</text>
                    <text x="550" y="90" font-family="sans-serif" font-size="11" text-anchor="middle" fill="#555">Kriegsende</text>
                </svg>
                <span class="graphic-caption">Abb. 2: Zeitstrahl des Ersten Weltkriegs</span>
            </div>

            <p><strong>Wichtige Begriffe:</strong></p>
            <ul>
                <li><strong>Stellungskrieg:</strong> Grabenkämpfe an der Westfront, kaum Bewegung.</li>
                <li><strong>Heimatfront:</strong> Auch Zivilisten litten, z.B. durch den "Steckrübenwinter" (Hungersnot 1916/17).</li>
                <li><strong>Versailler Vertrag:</strong> Deutschland erhielt die alleinige Kriegsschuld (Art. 231).</li>
            </ul>
        </div>

        <div class="chapter">
            <h2>II. Faschismus & NS</h2>
            
            <h3>1. Die Struktur der Diktatur</h3>
            <p>Faschistische Systeme (wie in Italien) und der Nationalsozialismus funktionieren nach dem Führerprinzip. Demokratie wird abgeschafft.</p>

            <div class="graphic-container">
                <svg viewBox="0 0 400 220" xmlns="http://www.w3.org/2000/svg">
                    <polygon points="200,20 80,180 320,180" fill="#cfd8dc" stroke="#455a64" stroke-width="2"/>
                    
                    <polygon points="200,20 160,73 240,73" fill="#37474f"/>
                    <text x="200" y="60" font-family="sans-serif" font-size="14" font-weight="bold" fill="#fff" text-anchor="middle">DER FÜHRER</text>
                    
                    <line x1="120" y1="126" x2="280" y2="126" stroke="#455a64" stroke-width="1"/>
                    <text x="200" y="105" font-family="sans-serif" font-size="12" fill="#333" text-anchor="middle">Partei & Militär</text>
                    
                    <text x="200" y="160" font-family="sans-serif" font-size="12" fill="#333" text-anchor="middle">Das Volk (Gehorsam, keine Rechte)</text>
                    
                    <text x="40" y="100" font-family="sans-serif" font-size="12" fill="#c62828" font-weight="bold">Befehl ▼</text>
                    <text x="360" y="100" font-family="sans-serif" font-size="12" fill="#333" font-weight="bold">Gehorsam ▲</text>
                </svg>
                <span class="graphic-caption">Abb. 3: Das Führerprinzip (Diktatur)</span>
            </div>

            <h3>2. Nationalsozialismus vs. Faschismus</h3>
            <p>Der entscheidende Unterschied ist der <strong>Rassismus</strong>. Die Nazis fügten dem Faschismus den Judenhass (Antisemitismus) und die Rassenlehre hinzu.</p>
        </div>
    </div>

    <div id="quiz-section" class="section">
        <div class="quiz-card">
            <div id="quiz-start">
                <h2>Prüfungssimulation</h2>
                <p>Teste dein Wissen mit Multiple Choice Fragen und Zuordnungsaufgaben.</p>
                <button class="next-btn" style="display:inline-block;" onclick="startQuiz()">Prüfung starten</button>
            </div>

            <div id="quiz-active" style="display:none;">
                <div class="progress-bar"><div id="progress-fill" class="progress-fill"></div></div>
                <div id="question-container"></div>
                <div id="feedback-box" class="feedback-box"></div>
                <button id="next-question-btn" class="next-btn" onclick="nextQuestion()">Nächste Frage</button>
            </div>

            <div id="quiz-result" style="display:none;">
                <h2>Ergebnis</h2>
                <div style="font-size: 3rem; color: var(--primary); font-weight: bold; margin: 15px 0;" id="final-score">0%</div>
                <img src="chatisthisreal.png" id="reward-img" class="result-meme">
                <p id="result-text"></p>
                <button class="next-btn" style="display:inline-block;" onclick="startQuiz()">Neu starten</button>
            </div>
        </div>
    </div>

</main>

<footer>
    <span>HoS Education | Version 4.0</span>
    <img src="chatisthisreal.png" class="footer-insider" title="Is this real?">
</footer>

<script>
    // DATENBASIS
    const questionPool = [
        // --- MULTIPLE CHOICE ---
        {
            type: 'choice',
            q: "Was löste im Juni 1914 die Kettenreaktion zum Ersten Weltkrieg aus?",
            options: ["Der Einmarsch in Belgien", "Das Attentat von Sarajevo", "Die Versenkung der Lusitania", "Die Russische Revolution"],
            correct: 1,
            info: "Das Attentat auf Thronfolger Franz Ferdinand in Sarajevo aktivierte die Bündnisse."
        },
        {
            type: 'choice',
            q: "Was versteht man unter dem Begriff 'Stellungskrieg'?",
            options: ["Schnelle Panzervorstöße", "Krieg auf hoher See", "Sich kaum bewegende Fronten in Schützengräben", "Luftangriffe auf Städte"],
            correct: 2,
            info: "An der Westfront gruben sich die Armeen ein. Trotz riesiger Schlachten gab es kaum Geländegewinne."
        },
        {
            type: 'choice',
            q: "Warum ist das Jahr 1917 so bedeutend ('Wendejahr')?",
            options: ["Der Krieg endete", "Die USA traten ein, Russland schied aus", "Hitler wurde geboren", "Das Attentat von Sarajevo passierte"],
            correct: 1,
            info: "Die USA stärkten die Entente, während Russland durch die Revolution wegfiel."
        },
        {
            type: 'choice',
            q: "Was war der 'Steckrübenwinter' 1916/17?",
            options: ["Ein Fest der Nazis", "Eine Hungersnot in Deutschland", "Eine militärische Operation", "Ein strenger Winter in Russland"],
            correct: 1,
            info: "Durch die britische Seeblockade fehlten Lebensmittel, die Zivilbevölkerung hungerte."
        },
        {
            type: 'choice',
            q: "Was unterschied den Nationalsozialismus vom italienischen Faschismus am stärksten?",
            options: ["Der Führerkult", "Die Propaganda", "Der Antisemitismus (Rassenhass)", "Die Gewalt"],
            correct: 2,
            info: "Der biologische Rassismus war das zentrale Merkmal der NS-Ideologie."
        },
        {
            type: 'choice',
            q: "Welches Amt übernahm Hitler 1934, um seine Macht absolut zu machen?",
            options: ["Kaiser", "Reichspräsident", "Führer und Reichskanzler", "Außenminister"],
            correct: 2,
            info: "Er vereinte das Amt des Kanzlers und des Präsidenten."
        },
        {
            type: 'choice',
            q: "Welches Medium nutzten die Nazis hauptsächlich für Propaganda in Privathaushalten?",
            options: ["Fernsehen", "Internet", "Volksempfänger (Radio)", "Telefon"],
            correct: 2,
            info: "Das Radio war billig und erreichte fast alle Menschen."
        },
        {
            type: 'choice',
            q: "Wer gehörte zu den 'Mittelmächten'?",
            options: ["Deutschland & Österreich-Ungarn", "Frankreich & Großbritannien", "USA & Russland", "Italien & Japan"],
            correct: 0,
            info: "Deutschland und Österreich-Ungarn bildeten den Kern der Mittelmächte."
        },
        
        // --- ZUORDNUNG ---
        {
            type: 'matching',
            q: "Ordne die Begriffe zu!",
            pairs: [
                {l: "Versailler Vertrag", r: "Friedensvertrag 1919"},
                {l: "Heimatfront", r: "Leiden der Zivilbevölkerung"},
                {l: "Westfront", r: "Stellungskrieg / Gräben"},
                {l: "Entente", r: "Bündnis (FR, GB, RUS)"}
            ],
            info: "Diese Begriffe sind zentral für das Verständnis des Ersten Weltkriegs."
        },
        {
            type: 'matching',
            q: "Merkmale von Diktaturen",
            pairs: [
                {l: "Führerkult", r: "Eine Person bestimmt alles"},
                {l: "Propaganda", r: "Meinungsmanipulation"},
                {l: "Opposition", r: "Wird verboten/verfolgt"},
                {l: "Militarismus", r: "Verherrlichung von Krieg"}
            ],
            info: "Diese Merkmale gelten für fast alle faschistischen Systeme."
        }
    ];

    // LOGIC
    let currentQuestions = [];
    let currentIndex = 0;
    let score = 0;
    let selection = null; // for matching

    function switchTab(tab) {
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        document.querySelector(`.nav-btn[onclick="switchTab('${tab}')"]`).classList.add('active');
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        document.getElementById(tab + '-section').classList.add('active');
    }

    function startQuiz() {
        // Shuffle & pick 8 questions
        currentQuestions = [...questionPool].sort(() => 0.5 - Math.random()).slice(0, 8);
        currentIndex = 0;
        score = 0;
        
        document.getElementById('quiz-start').style.display = 'none';
        document.getElementById('quiz-result').style.display = 'none';
        document.getElementById('quiz-active').style.display = 'block';
        loadQuestion();
    }

    function loadQuestion() {
        const q = currentQuestions[currentIndex];
        const container = document.getElementById('question-container');
        const feedback = document.getElementById('feedback-box');
        
        // Reset UI
        container.innerHTML = '';
        feedback.style.display = 'none';
        feedback.innerHTML = ''; // Clear text
        document.getElementById('next-question-btn').style.display = 'none';
        document.getElementById('progress-fill').style.width = `${(currentIndex / currentQuestions.length) * 100}%`;

        // Render Title
        const title = document.createElement('div');
        title.className = 'question-text';
        title.textContent = `${currentIndex + 1}. ${q.q}`;
        container.appendChild(title);

        if(q.type === 'choice') renderChoice(q, container);
        else if(q.type === 'matching') renderMatching(q, container);
    }

    function renderChoice(q, container) {
        const grid = document.createElement('div');
        grid.className = 'options-grid';
        
        q.options.forEach((opt, idx) => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.textContent = opt;
            btn.onclick = () => checkChoice(btn, idx, q);
            grid.appendChild(btn);
        });
        container.appendChild(grid);
    }

    function checkChoice(btn, idx, q) {
        const btns = document.querySelectorAll('.option-btn');
        btns.forEach(b => b.disabled = true);
        
        const feedback = document.getElementById('feedback-box');
        if(idx === q.correct) {
            btn.classList.add('correct');
            score++;
            feedback.innerHTML = "<strong>Richtig!</strong> " + q.info;
        } else {
            btn.classList.add('wrong');
            btns[q.correct].classList.add('correct');
            feedback.innerHTML = "<strong>Falsch.</strong> " + q.info;
        }
        feedback.style.display = 'block';
        document.getElementById('next-question-btn').style.display = 'inline-block';
    }

    function renderMatching(q, container) {
        const grid = document.createElement('div');
        grid.className = 'matching-container';
        
        let left = q.pairs.map((p, i) => ({txt: p.l, id: i, type: 'l'}));
        let right = q.pairs.map((p, i) => ({txt: p.r, id: i, type: 'r'}));
        
        // Shuffle visually
        left.sort(() => Math.random() - 0.5);
        right.sort(() => Math.random() - 0.5);
        
        [left, right].forEach(arr => {
            const col = document.createElement('div');
            col.style.display = 'flex'; col.style.flexDirection = 'column'; col.style.gap = '10px';
            arr.forEach(item => {
                const el = document.createElement('div');
                el.className = 'match-item';
                el.textContent = item.txt;
                el.onclick = () => handleMatch(el, item, q);
                col.appendChild(el);
            });
            grid.appendChild(col);
        });
        
        container.appendChild(grid);
        q._matches = 0;
        selection = null;
    }

    function handleMatch(el, item, q) {
        if(el.classList.contains('solved')) return;
        
        if(!selection) {
            selection = {el, item};
            el.classList.add('selected');
        } else {
            // Check match
            if(selection.item.type !== item.type && selection.item.id === item.id) {
                // Correct match
                el.classList.add('solved');
                selection.el.classList.remove('selected');
                selection.el.classList.add('solved');
                q._matches++;
            } else {
                // Wrong
                selection.el.classList.remove('selected');
            }
            selection = null;
        }
        
        if(q._matches === q.pairs.length) {
            score++;
            const fb = document.getElementById('feedback-box');
            fb.innerHTML = "<strong>Perfekt!</strong> " + q.info;
            fb.style.display = 'block';
            document.getElementById('next-question-btn').style.display = 'inline-block';
        }
    }

    function nextQuestion() {
        currentIndex++;
        if(currentIndex < currentQuestions.length) loadQuestion();
        else showResult();
    }

    function showResult() {
        document.getElementById('quiz-active').style.display = 'none';
        document.getElementById('quiz-result').style.display = 'block';
        
        const pct = Math.round((score / currentQuestions.length) * 100);
        document.getElementById('final-score').textContent = pct + "%";
        
        const img = document.getElementById('reward-img');
        const txt = document.getElementById('result-text');
        
        if(pct === 100) {
            txt.textContent = "Hervorragend! Alles richtig.";
            img.style.display = 'block';
        } else if(pct >= 75) {
            txt.textContent = "Sehr gut gemacht!";
            img.style.display = 'none';
        } else {
            txt.textContent = "Übe am besten noch ein bisschen im Lernbereich.";
            img.style.display = 'none';
        }
    }
</script>
</body>
</html>
