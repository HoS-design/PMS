<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geschichte Digital: Das Gro√üe Kompendium (Linear)</title>
    <style>
        /* HoS-Style v10.0 (Progression Edition)
           - Feature: Content-Unlocking (Gamified Learning)
           - UI: Locked/Unlocked States in Navigation
        */
        :root {
            --col-primary: #0f172a;       
            --col-accent: #0284c7;        
            --col-highlight: #ea580c;     
            --col-bg-sidebar: #f8fafc;
            --col-bg-content: #ffffff;
            --col-text: #334155;
            --col-source-bg: #fdf6e3;     
            --col-success: #16a34a;
            --col-error: #dc2626;
            --col-locked: #94a3b8;
            
            --font-head: 'Segoe UI', system-ui, sans-serif;
            --font-body: 'Georgia', 'Times New Roman', serif;
        }

        * { box-sizing: border-box; }

        body {
            margin: 0; padding: 0;
            font-family: var(--font-body); color: var(--col-text);
            background: #f1f5f9; height: 100vh; display: flex; overflow: hidden;
        }

        /* --- SIDEBAR --- */
        aside {
            width: 300px; background: var(--col-bg-sidebar); border-right: 1px solid #e2e8f0;
            display: flex; flex-direction: column; flex-shrink: 0; overflow-y: auto;
        }

        .brand {
            padding: 30px; font-family: var(--font-head); font-size: 1.4rem; font-weight: 800;
            color: var(--col-primary); border-bottom: 1px solid #e2e8f0; background: #fff;
        }

        .nav-list { list-style: none; padding: 20px; margin: 0; }

        .nav-item {
            font-family: var(--font-head); padding: 12px 15px; margin-bottom: 4px;
            border-radius: 6px; cursor: pointer; font-size: 0.95rem; color: #64748b;
            transition: all 0.2s; display: flex; align-items: center; justify-content: space-between;
        }

        .nav-item:hover:not(.locked) { background: #e2e8f0; color: var(--col-primary); }
        .nav-item.active { background: var(--col-primary); color: white; font-weight: 600; }
        
        /* LOCKED STATE */
        .nav-item.locked { opacity: 0.5; cursor: not-allowed; filter: grayscale(100%); pointer-events: none; }
        .lock-icon { font-size: 0.8rem; }
        .nav-text { display: flex; align-items: center; gap: 10px; }

        /* --- MAIN CONTENT --- */
        main {
            flex: 1; background: var(--col-bg-content); overflow-y: auto;
            padding: 60px 80px; scroll-behavior: smooth;
        }

        h1 { font-family: var(--font-head); font-size: 2.8rem; font-weight: 800; color: var(--col-primary); margin-bottom: 1rem; line-height: 1.2; }
        h2 { font-family: var(--font-head); font-size: 1.8rem; color: var(--col-accent); margin-top: 4rem; margin-bottom: 1.5rem; border-bottom: 2px solid #f1f5f9; padding-bottom: 10px; }
        h3 { font-family: var(--font-head); font-size: 1.4rem; color: var(--col-primary); margin-top: 2.5rem; margin-bottom: 1rem; }
        p { font-size: 1.15rem; line-height: 1.8; margin-bottom: 1.5rem; max-width: 800px; text-align: justify; }
        
        ul.bullet-list { padding-left: 20px; margin-bottom: 2rem; }
        ul.bullet-list li { margin-bottom: 10px; font-size: 1.1rem; }

        .source-box {
            background-color: var(--col-source-bg); border-left: 5px solid #d4c5a0; padding: 25px;
            margin: 40px 0; font-family: 'Courier New', Courier, monospace; font-size: 1rem;
            color: #4a4a4a; position: relative; max-width: 800px;
        }
        .source-caption { display: block; margin-top: 15px; font-family: var(--font-head); font-size: 0.85rem; color: #888; text-align: right; font-style: italic; }

        .fact-box {
            background: #eff6ff; border-radius: 8px; padding: 25px; margin: 30px 0;
            font-family: var(--font-head); border: 1px solid #dbeafe; max-width: 800px;
        }
        .fact-title { font-weight: bold; text-transform: uppercase; color: var(--col-accent); font-size: 0.85rem; letter-spacing: 1px; display: block; margin-bottom: 10px; }

        table.comparison { width: 100%; max-width: 900px; border-collapse: collapse; margin: 40px 0; font-family: var(--font-head); }
        table.comparison th, table.comparison td { border: 1px solid #cbd5e1; padding: 15px; text-align: left; vertical-align: top; }
        table.comparison th { background: var(--col-primary); color: white; }
        table.comparison tr:nth-child(even) { background: #f8fafc; }

        .graphic-wrapper {
            margin: 50px 0; background: #fff; border: 1px solid #e2e8f0; border-radius: 12px;
            padding: 30px; text-align: center; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); max-width: 900px;
        }
        .graphic-caption { margin-top: 15px; font-family: var(--font-head); color: #64748b; font-size: 0.9rem; }
        svg { max-width: 100%; height: auto; }

        /* --- MINI CHECK & UNLOCK SYSTEM --- */
        .mini-check-container {
            background: #f0fdf4; border: 2px solid #bbf7d0; border-radius: 12px;
            padding: 30px; margin-top: 60px; max-width: 800px; font-family: var(--font-head);
        }
        .mini-check-title { color: #166534; font-weight: bold; font-size: 1.2rem; margin-bottom: 15px; display: flex; align-items: center; gap: 10px; }
        .mini-check-question { font-size: 1.1rem; margin-bottom: 20px; font-weight: 500; }
        .mini-check-options { display: grid; gap: 10px; }
        .mini-btn {
            background: white; border: 2px solid #bbf7d0; padding: 15px; border-radius: 8px;
            text-align: left; cursor: pointer; transition: 0.2s; font-size: 1rem;
        }
        .mini-btn:hover { background: #dcfce7; }
        
        .unlock-msg {
            margin-top: 20px; padding: 15px; background: #16a34a; color: white; border-radius: 8px;
            text-align: center; font-weight: bold; display: none; animation: popIn 0.5s ease;
        }

        /* --- FINAL EXAM --- */
        .quiz-card {
            background: white; border-radius: 16px; box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
            padding: 50px; max-width: 800px; margin: 0 auto; text-align: center; border-top: 6px solid var(--col-highlight);
        }
        .quiz-progress { height: 8px; background: #e2e8f0; border-radius: 4px; margin-bottom: 30px; overflow: hidden; }
        .quiz-bar { height: 100%; background: var(--col-success); width: 0%; transition: width 0.3s; }
        .question-text { font-family: var(--font-head); font-size: 1.5rem; font-weight: bold; margin-bottom: 30px; color: var(--col-primary); }
        .options-grid { display: grid; gap: 15px; text-align: left; }
        .btn-opt {
            background: white; border: 2px solid #e2e8f0; padding: 20px; border-radius: 8px;
            font-family: var(--font-head); font-size: 1.1rem; cursor: pointer; transition: 0.2s; width: 100%;
        }
        .btn-opt:hover:not(:disabled) { border-color: var(--col-accent); background: #f0f9ff; }
        .btn-opt.correct { background: #dcfce7; border-color: var(--col-success); color: #166534; }
        .btn-opt.wrong { background: #fee2e2; border-color: var(--col-error); color: #991b1b; }
        .feedback-area { margin-top: 25px; padding: 20px; background: #f1f5f9; border-radius: 8px; text-align: left; font-family: var(--font-head); display: none; }
        .next-btn {
            margin-top: 25px; background: var(--col-highlight); color: white; border: none; padding: 15px 40px;
            border-radius: 30px; font-family: var(--font-head); font-size: 1.1rem; font-weight: bold; cursor: pointer; display: none;
        }

        .match-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .match-card {
            padding: 20px; background: #f8fafc; border: 2px solid #e2e8f0; border-radius: 8px;
            cursor: pointer; display: flex; align-items: center; justify-content: center; text-align: center;
            font-family: var(--font-head); font-weight: 500; min-height: 80px; transition: 0.2s;
        }
        .match-card.selected { background: #e0f2fe; border-color: var(--col-accent); box-shadow: 0 0 0 3px rgba(2, 132, 199, 0.2); }
        .match-card.solved { background: #dcfce7; border-color: var(--col-success); color: var(--col-success); opacity: 0.6; cursor: default; }

        footer { margin-top: 100px; padding-top: 20px; border-top: 1px solid #e2e8f0; color: #94a3b8; font-family: var(--font-head); font-size: 0.9rem; text-align: center; }

        @keyframes popIn { 0% { transform: scale(0.9); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }

        @media (max-width: 900px) {
            body { flex-direction: column; overflow: auto; }
            aside { width: 100%; height: auto; border-right: none; border-bottom: 1px solid #e2e8f0; }
            main { padding: 30px 20px; }
            .match-grid { grid-template-columns: 1fr; }
        }

        .hidden { display: none !important; }
    </style>
</head>
<body>

<aside>
    <div class="brand">Geschichte Kompendium</div>
    <ul class="nav-list">
        <li class="nav-item active" id="nav-intro" onclick="nav('intro')">
            <span class="nav-text"><span class="nav-icon">üè†</span> Startseite</span>
        </li>
        <li class="nav-item" id="nav-glossar" onclick="nav('glossar')">
            <span class="nav-text"><span class="nav-icon">üìñ</span> Glossar</span>
        </li>
        
        <li class="nav-item" id="nav-ch1" onclick="nav('ch1')">
            <span class="nav-text"><span class="nav-icon">‚öîÔ∏è</span> I. Der Erste Weltkrieg</span>
        </li>
        
        <li class="nav-item locked" id="nav-ch2" onclick="nav('ch2')">
            <span class="nav-text"><span class="nav-icon">üå™Ô∏è</span> II. Weimarer Republik</span>
            <span class="lock-icon">üîí</span>
        </li>
        <li class="nav-item locked" id="nav-ch3" onclick="nav('ch3')">
            <span class="nav-text"><span class="nav-icon">‚ò†Ô∏è</span> III. Faschismus & NS</span>
            <span class="lock-icon">üîí</span>
        </li>
        <li class="nav-item locked" id="nav-ch4" onclick="nav('ch4')">
            <span class="nav-text"><span class="nav-icon">üë§</span> IV. Adolf Hitler</span>
            <span class="lock-icon">üîí</span>
        </li>
        <li class="nav-item locked" id="nav-quiz" style="margin-top: 20px; color: var(--col-highlight);" onclick="nav('quiz')">
            <span class="nav-text"><span class="nav-icon">üìù</span> <strong>Abschlusspr√ºfung</strong></span>
            <span class="lock-icon">üîí</span>
        </li>
    </ul>
</aside>

<main id="main-content">

    <section id="pg-intro">
        <h1>Das Zeitalter der Extreme</h1>
        <p style="font-size: 1.4rem; color: #64748b; font-family: var(--font-head);">Ein digitales Lehrbuch √ºber den Ersten Weltkrieg, die Weimarer Republik und den Aufstieg des Nationalsozialismus.</p>
        <hr style="margin: 30px 0; border: 0; border-top: 1px solid #e2e8f0;">
        
        <p>Willkommen zu deiner Lernunterlage. Dieses Kompendium ist linear aufgebaut. Du kannst nicht vorbl√§ttern ‚Äì du musst dir jedes Kapitel erarbeiten.</p>
        
        <div class="fact-box" style="border-left-color: var(--col-highlight); background: #fff7ed;">
            <span class="fact-title" style="color: var(--col-highlight);">So funktioniert es</span>
            Am Ende jedes Kapitels wartet eine <strong>Verst√§ndnis-Frage</strong> auf dich. Erst wenn du diese richtig beantwortest, wird das n√§chste Kapitel freigeschaltet.
        </div>
        
        <button onclick="nav('ch1')" style="background: var(--col-primary); color: white; border: none; padding: 15px 30px; border-radius: 8px; font-size: 1.1rem; cursor: pointer;">Kapitel I starten</button>
    </section>

    <section id="pg-ch1" class="hidden">
        <h1>I. Die Urkatastrophe: Der Erste Weltkrieg (1914‚Äì1918)</h1>
        
        <h2>1.1 Das Pulverfass Europa</h2>
        <p>Um 1900 befanden sich die europ√§ischen Gro√üm√§chte in einem gef√§hrlichen Wettstreit. Der <strong>Imperialismus</strong> (das Streben der Gro√üm√§chte nach Kolonien und Weltmacht) f√ºhrte zu Spannungen. Um sich zu sch√ºtzen, schlossen die L√§nder B√ºndnisse. Doch diese B√ºndnisse bedeuteten auch: Wenn zwei L√§nder Streit haben, werden alle anderen mit hineingezogen.</p>

        <div class="graphic-wrapper">
            <svg viewBox="0 0 700 150">
                <rect x="0" y="0" width="700" height="150" fill="#fff" />
                <rect x="20" y="30" width="250" height="90" rx="10" fill="#fee2e2" stroke="#dc2626" stroke-width="3"/>
                <text x="145" y="60" text-anchor="middle" font-family="sans-serif" font-weight="bold" fill="#b91c1c">MITTELM√ÑCHTE</text>
                <text x="145" y="85" text-anchor="middle" font-family="sans-serif" font-size="14">Deutsches Reich</text>
                <text x="145" y="105" text-anchor="middle" font-family="sans-serif" font-size="14">√ñsterreich-Ungarn</text>
                <path d="M 320 30 L 350 120 L 380 30" fill="none" stroke="#334155" stroke-width="4"/>
                <rect x="430" y="30" width="250" height="90" rx="10" fill="#e0f2fe" stroke="#0284c7" stroke-width="3"/>
                <text x="555" y="60" text-anchor="middle" font-family="sans-serif" font-weight="bold" fill="#0369a1">ENTENTE</text>
                <text x="555" y="85" text-anchor="middle" font-family="sans-serif" font-size="14">Frankreich & Gro√übritannien</text>
                <text x="555" y="105" text-anchor="middle" font-family="sans-serif" font-size="14">Russland (bis 1917)</text>
            </svg>
            <div class="graphic-caption">Abb 1: Die B√ºndniskonstellation 1914.</div>
        </div>

        <h3>Der Funke: Sarajevo</h3>
        <p>Am <strong>28. Juni 1914</strong> besuchte der √∂sterreichische Thronfolger Franz Ferdinand Sarajevo. Dort wurde er von Gavrilo Princip erschossen. √ñsterreich-Ungarn wollte Serbien bestrafen. Was folgte, war die "Julikrise".</p>

        <h2>1.2 Die H√∂lle von Verdun</h2>
        <p>Im Westen erstarrte der Krieg zum <strong>Stellungskrieg</strong>. Millionen Soldaten gruben sich in Sch√ºtzengr√§ben ein.</p>
        <div class="source-box">
            "Wir leben wie die Ratten im Dreck. Wenn die Artillerie feuert, bebt die Erde stundenlang."
            <span class="source-caption">Aus einem Feldpostbrief, 1916.</span>
        </div>
        <p>Neue Technologien wie Maschinengewehre, Giftgas und Panzer machten das T√∂ten industriell.</p>

        <h2>1.3 Das Wendejahr 1917</h2>
        <p>1917 schied Russland durch die Revolution aus. Doch fast zeitgleich traten die <strong>USA</strong> in den Krieg ein. Ihre Macht entschied den Krieg. Im November 1918 kapitulierten die Mittelm√§chte.</p>

        <div class="fact-box">
            <span class="fact-title">Statistik des Schreckens</span>
            In vier Jahren starben ca. <strong>10 Millionen Soldaten</strong> und ca. <strong>7 Millionen Zivilisten</strong>.
        </div>

        <div class="mini-check-container" id="check-ch1">
            <div class="mini-check-title">‚úÖ Checkpoint: Kapitel I</div>
            <div class="mini-check-question">Was war das entscheidende Ereignis im "Wendejahr" 1917?</div>
            <div class="mini-check-options">
                <button class="mini-btn" onclick="wrong(this)">Die Erfindung des Panzers</button>
                <button class="mini-btn" onclick="wrong(this)">Der Tod von Franz Ferdinand</button>
                <button class="mini-btn" onclick="unlock('ch2', this)">Kriegseintritt der USA und Austritt Russlands</button>
            </div>
            <div class="unlock-msg" id="msg-ch2">Richtig! Kapitel II ist jetzt freigeschaltet.</div>
        </div>
    </section>

    <section id="pg-ch2" class="hidden">
        <h1>II. Die Weimarer Republik (1918‚Äì1933)</h1>
        
        <h2>2.1 Eine Demokratie ohne Demokraten</h2>
        <p>Der <strong>Versailler Vertrag (1919)</strong> belastete die junge Republik schwer. Deutschland bekam die alleinige Kriegsschuld (Art. 231) und musste hohe Reparationen zahlen.</p>

        <div class="fact-box">
            <span class="fact-title">Die Dolchsto√ülegende</span>
            Rechte Kreise verbreiteten die L√ºge, das Heer sei "im Felde unbesiegt" gewesen und nur durch Verrat der Heimat (Sozialisten, Juden) besiegt worden.
        </div>

        <h2>2.2 Das Krisenjahr 1923: Inflation</h2>
        <p>Weil Deutschland nicht zahlte, besetzte Frankreich das Ruhrgebiet. Die Regierung druckte Geld. Es kam zur Hyperinflation. Geld wurde wertlos.</p>

        <div class="graphic-wrapper">
            <svg viewBox="0 0 600 200">
                <line x1="50" y1="180" x2="550" y2="180" stroke="#333" stroke-width="2"/>
                <path d="M 50 170 Q 200 170 300 150 T 500 20" fill="none" stroke="#dc2626" stroke-width="4"/>
                <text x="60" y="40" font-family="sans-serif" fill="#dc2626" font-weight="bold">1 Brot = 200 Milliarden Mark</text>
            </svg>
            <div class="graphic-caption">Abb 2: Die Geldentwertung 1923.</div>
        </div>

        <p>In diesem Chaos scheiterte Hitlers Putschversuch in M√ºnchen (9. Nov 1923).</p>

        <h2>2.3 Das Ende: 1929</h2>
        <p>Der B√∂rsencrash in New York (Weltwirtschaftskrise) 1929 traf Deutschland hart. 6 Millionen Arbeitslose trieben die W√§hler zu den radikalen Parteien (KPD und NSDAP).</p>

        <div class="mini-check-container" id="check-ch2">
            <div class="mini-check-title">‚úÖ Checkpoint: Kapitel II</div>
            <div class="mini-check-question">Welches Ereignis markiert das Ende der "Goldenen Zwanziger"?</div>
            <div class="mini-check-options">
                <button class="mini-btn" onclick="wrong(this)">Der Hitler-Putsch</button>
                <button class="mini-btn" onclick="unlock('ch3', this)">Der B√∂rsencrash (Weltwirtschaftskrise) 1929</button>
                <button class="mini-btn" onclick="wrong(this)">Der Versailler Vertrag</button>
            </div>
            <div class="unlock-msg" id="msg-ch3">Korrekt! Weiter zu Faschismus & NS.</div>
        </div>
    </section>

    <section id="pg-ch3" class="hidden">
        <h1>III. Faschismus & Nationalsozialismus</h1>
        
        <h2>3.1 Anatomie der Diktatur</h2>
        <p>Mussolini (Italien) und Hitler (Deutschland) errichteten Diktaturen, die auf dem F√ºhrerprinzip basierten.</p>

        <table class="comparison">
            <thead>
                <tr>
                    <th width="50%">Gemeinsamkeiten</th>
                    <th width="50%">Spezifisch NS (Unterschied)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>F√ºhrerkult, Einparteienstaat, Terror, Propaganda, Militarismus.</td>
                    <td style="background-color: #fff7ed;"><strong>Biologischer Rassismus & Antisemitismus</strong> (Judenhass) als zentrales Element.</td>
                </tr>
            </tbody>
        </table>

        <h2>3.2 Propaganda</h2>
        <p>Der "Volksempf√§nger" (billiges Radio) brachte Hitlers Stimme in jeden Haushalt. Propaganda manipulierte das Volk t√§glich.</p>

        <div class="mini-check-container" id="check-ch3">
            <div class="mini-check-title">‚úÖ Checkpoint: Kapitel III</div>
            <div class="mini-check-question">Was ist das wichtigste Unterscheidungsmerkmal des NS zum Faschismus?</div>
            <div class="mini-check-options">
                <button class="mini-btn" onclick="unlock('ch4', this)">Der biologische Rassismus & Antisemitismus</button>
                <button class="mini-btn" onclick="wrong(this)">Der F√ºhrerkult</button>
                <button class="mini-btn" onclick="wrong(this)">Die Nutzung des Radios</button>
            </div>
            <div class="unlock-msg" id="msg-ch4">Richtig! Das letzte Kapitel ist frei.</div>
        </div>
    </section>

    <section id="pg-ch4" class="hidden">
        <h1>IV. Adolf Hitler: Biografie</h1>
        
        <h2>4.1 Vom Scheitern zur Macht</h2>
        <p>Hitler, 1889 in √ñsterreich geboren, scheiterte als K√ºnstler. Der Erste Weltkrieg gab ihm Struktur. Die Niederlage radikalisierte ihn.</p>
        
        <h2>4.2 Der legale Weg</h2>
        <p>Nach dem gescheiterten Putsch 1923 wollte er die Macht legal. Die Wirtschaftskrise 1929 machte die NSDAP zur Massenpartei.</p>
        
        <div class="fact-box">
            <span class="fact-title">Der 30. Januar 1933</span>
            Hitler wurde von Hindenburg zum <strong>Reichskanzler ernannt</strong>. Es war kein gewaltsamer Putsch.
        </div>

        <p>1934, nach Hindenburgs Tod, vereinte er alle √Ñmter auf sich und wurde zum alleinigen "F√ºhrer".</p>

        <div class="mini-check-container" id="check-ch4">
            <div class="mini-check-title">‚úÖ Letzter Checkpoint</div>
            <div class="mini-check-question">Wie wurde Hitler am 30. Januar 1933 Reichskanzler?</div>
            <div class="mini-check-options">
                <button class="mini-btn" onclick="wrong(this)">Durch einen blutigen Putsch</button>
                <button class="mini-btn" onclick="wrong(this)">Durch eine gef√§lschte Wahl</button>
                <button class="mini-btn" onclick="unlock('quiz', this)">Durch Ernennung von Hindenburg</button>
            </div>
            <div class="unlock-msg" id="msg-quiz">Perfekt! Die Abschlusspr√ºfung ist jetzt freigeschaltet!</div>
        </div>
    </section>

    <section id="pg-glossar" class="hidden">
        <h1>Glossar</h1>
        <div class="fact-box"><strong>Antisemitismus:</strong> Judenhass.</div>
        <div class="fact-box"><strong>Entente:</strong> B√ºndnis (F, GB, RUS, USA).</div>
        <div class="fact-box"><strong>Heimatfront:</strong> Zivilbev√∂lkerung im Krieg.</div>
        <div class="fact-box"><strong>Inflation 1923:</strong> Totale Geldentwertung.</div>
        <div class="fact-box"><strong>Reparationen:</strong> Strafzahlungen.</div>
        <div class="fact-box"><strong>Versailler Vertrag:</strong> Friedensvertrag 1919 (Art. 231 Alleinschuld).</div>
    </section>

    <section id="pg-quiz" class="hidden">
        <div class="quiz-card">
            
            <div id="quiz-start">
                <h2 style="margin-top:0;">Abschlusspr√ºfung</h2>
                <p>Du hast alle Kapitel gemeistert. Jetzt folgt der Test.</p>
                <ul>
                    <li>15 Fragen pro Durchgang</li>
                    <li>Multiple Choice & Zuordnung</li>
                </ul>
                <button class="next-btn" style="display:inline-block;" onclick="startQuiz()">Pr√ºfung starten</button>
            </div>

            <div id="quiz-active" class="hidden">
                <div class="quiz-progress"><div id="progress-bar" class="quiz-bar"></div></div>
                <div id="question-container"></div>
                <div id="feedback" class="feedback-area"></div>
                <button id="next-btn" class="next-btn" onclick="nextQuestion()">N√§chste Frage</button>
            </div>

            <div id="quiz-result" class="hidden">
                <h2>Ergebnis</h2>
                <div id="score-display" style="font-size: 4rem; font-weight: bold; color: var(--col-primary); margin: 20px 0;">0%</div>
                <img src="chatisthisreal.png" id="meme-reward" style="max-width: 200px; display: none; margin: 0 auto 30px auto; border-radius: 10px;">
                <p id="result-msg" style="margin: 0 auto 30px auto;"></p>
                <button class="next-btn" style="display:inline-block;" onclick="startQuiz()">Neustarten</button>
            </div>

        </div>
    </section>

</main>

<script>
    // --- STATE MANAGEMENT ---
    let state = {
        intro: true, glossar: true, ch1: true,
        ch2: false, ch3: false, ch4: false, quiz: false
    };

    function nav(id) {
        if (!state[id]) return; // Block locked sections
        
        document.querySelectorAll('section').forEach(el => el.classList.add('hidden'));
        document.getElementById('pg-' + id).classList.remove('hidden');
        
        document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
        document.getElementById('nav-' + id).classList.add('active');
        
        document.getElementById('main-content').scrollTop = 0;
    }

    function unlock(nextId, btn) {
        // Visual feedback on button
        btn.style.background = '#dcfce7';
        btn.style.borderColor = '#16a34a';
        btn.innerHTML = '‚úÖ Richtig!';
        
        // Show success msg
        const msgBox = document.getElementById('msg-' + nextId);
        if(msgBox) msgBox.style.display = 'block';

        // Unlock logic
        if (!state[nextId]) {
            state[nextId] = true;
            const navItem = document.getElementById('nav-' + nextId);
            navItem.classList.remove('locked');
            navItem.querySelector('.lock-icon').textContent = ''; 
            
            // Optional: Auto-scroll to message
            msgBox.scrollIntoView({behavior: 'smooth'});
            
            // Add a "Go to next chapter" button in the msg
            if(!msgBox.querySelector('button')) {
                const goBtn = document.createElement('button');
                goBtn.textContent = '‚Üí Jetzt weiter';
                goBtn.style.marginLeft = '10px';
                goBtn.style.padding = '5px 10px';
                goBtn.style.cursor = 'pointer';
                goBtn.style.borderRadius = '5px';
                goBtn.style.border = 'none';
                goBtn.onclick = () => nav(nextId);
                msgBox.appendChild(goBtn);
            }
        }
    }

    function wrong(btn) {
        btn.style.background = '#fee2e2';
        btn.style.borderColor = '#dc2626';
        setTimeout(() => {
            btn.style.background = 'white';
            btn.style.borderColor = '#bbf7d0';
        }, 1000);
    }

    /* --- QUIZ ENGINE --- */
    const pool = [
        {t:'mc', q:"Was l√∂ste 1914 die Kettenreaktion aus?", o:["Attentat von Sarajevo","Einmarsch in Polen","B√∂rsencrash","Mauerbau"], c:0, i:"Das Attentat auf Franz Ferdinand."},
        {t:'mc', q:"Wer waren die Mittelm√§chte?", o:["USA & GB","Deutschland & √ñsterreich-Ungarn","Frankreich & Russland","Italien"], c:1, i:"DE und √ñ-U im Zentrum Europas."},
        {t:'mc', q:"Was ist 'Stellungskrieg'?", o:["Panzerschlacht","Seekrieg","Erstarrte Fronten (Gr√§ben)","Luftkrieg"], c:2, i:"Kaum Bewegung √ºber Jahre."},
        {t:'mc', q:"Wann war das Wendejahr (USA rein)?", o:["1914","1915","1917","1918"], c:2, i:"1917 ver√§nderte alles."},
        {t:'mc', q:"Was war der 'Steckr√ºbenwinter'?", o:["Fest","Hungersnot 1916/17","Waffe","K√§lte"], c:1, i:"Nahrungsmangel durch Blockade."},
        {t:'mc', q:"Tote im 1. Weltkrieg?", o:["ca. 1 Mio","ca. 10 Mio Soldaten","500.000","50 Mio"], c:1, i:"+ 7 Mio Zivilisten."},
        {t:'mc', q:"Artikel 231 Versailler Vertrag?", o:["Alleinschuld DE","EU Gr√ºndung","W√§hrung","B√ºndnis"], c:0, i:"Grundlage f√ºr Reparationen."},
        {t:'mc', q:"Was geschah 1923?", o:["Wunder","Hyperinflation","Krieg","Mauerfall"], c:1, i:"Geldentwertung."},
        {t:'mc', q:"Ende der 'Goldenen Zwanziger'?", o:["B√∂rsencrash 1929","Hitler Wahl","Krieg","Tod Hindenburgs"], c:0, i:"Weltwirtschaftskrise."},
        {t:'mc', q:"NS vs Faschismus Unterschied?", o:["Gewalt","Diktatur","Rassenideologie","Propaganda"], c:2, i:"Antisemitismus ist NS-spezifisch."},
        {t:'mc', q:"Wie wurde Hitler Kanzler?", o:["Putsch","Ernennung","Wahlf√§lschung","Gewalt"], c:1, i:"Legal ernannt am 30.1.33."},
        {t:'mc', q:"Was war der Volksempf√§nger?", o:["Orden","Radio","Abzeichen","Waffe"], c:1, i:"Propaganda-Instrument."},
        {t:'match', q:"Jahreszahlen", p:[{l:"1914",r:"Kriegsbeginn"},{l:"1918",r:"Kriegsende"},{l:"1923",r:"Hitler-Putsch"},{l:"1933",r:"Hitler Kanzler"}]},
        {t:'match', q:"Begriffe", p:[{l:"Heimatfront",r:"Zivilisten"},{l:"Entente",r:"Gegner DE"},{l:"Reparationen",r:"Strafzahlungen"},{l:"Dolchsto√ü",r:"Verrats-Legende"}]}
    ];

    let questions = [], qIdx = 0, score = 0, selectedMatch = null;

    function startQuiz() {
        questions = [...pool].sort(()=>Math.random()-0.5).slice(0, 15);
        qIdx = 0; score = 0;
        document.getElementById('quiz-start').classList.add('hidden');
        document.getElementById('quiz-result').classList.add('hidden');
        document.getElementById('quiz-active').classList.remove('hidden');
        renderQuestion();
    }

    function renderQuestion() {
        const q = questions[qIdx];
        const cont = document.getElementById('question-container');
        const fb = document.getElementById('feedback');
        const next = document.getElementById('next-btn');
        
        cont.innerHTML = ''; fb.style.display='none'; next.style.display='none';
        document.getElementById('progress-bar').style.width = `${(qIdx/questions.length)*100}%`;
        
        const title = document.createElement('div');
        title.className = 'question-text';
        title.textContent = `${qIdx+1}. ${q.q}`;
        cont.appendChild(title);

        if(q.t === 'mc') {
            const grid = document.createElement('div'); grid.className='options-grid';
            q.o.forEach((opt, i) => {
                const btn = document.createElement('button');
                btn.className = 'btn-opt'; btn.textContent = opt;
                btn.onclick = () => solveMC(btn, i, q);
                grid.appendChild(btn);
            });
            cont.appendChild(grid);
        } else {
            const grid = document.createElement('div'); grid.className='match-grid';
            let tiles = [];
            q.p.forEach((p, i) => {
                tiles.push({txt:p.l, id:i, type:'l'});
                tiles.push({txt:p.r, id:i, type:'r'});
            });
            tiles.sort(()=>Math.random()-0.5).forEach(item => {
                const tile = document.createElement('div');
                tile.className = 'match-card'; tile.textContent = item.txt;
                tile.onclick = () => solveMatch(tile, item, q);
                grid.appendChild(tile);
            });
            cont.appendChild(grid);
            q._matches = 0; selectedMatch = null;
        }
    }

    function solveMC(btn, i, q) {
        document.querySelectorAll('.btn-opt').forEach(b=>b.disabled=true);
        const fb = document.getElementById('feedback');
        if(i===q.c) { btn.classList.add('correct'); score++; fb.innerHTML=`<strong>Richtig!</strong><br>${q.i}`; fb.style.borderLeftColor='#16a34a'; }
        else { btn.classList.add('wrong'); document.querySelectorAll('.btn-opt')[q.c].classList.add('correct'); fb.innerHTML=`<strong>Falsch.</strong><br>${q.i}`; fb.style.borderLeftColor='#dc2626'; }
        fb.style.display='block'; document.getElementById('next-btn').style.display='inline-block';
    }

    function solveMatch(tile, item, q) {
        if(tile.classList.contains('solved')) return;
        if(!selectedMatch) { selectedMatch={tile, item}; tile.classList.add('selected'); }
        else {
            if(selectedMatch.item.id===item.id && selectedMatch.item.type!==item.type) {
                tile.classList.add('solved'); selectedMatch.tile.classList.remove('selected'); selectedMatch.tile.classList.add('solved');
                q._matches++; selectedMatch=null;
                if(q._matches===q.p.length) {
                    score++; const fb=document.getElementById('feedback');
                    fb.innerHTML='<strong>Perfekt!</strong>'; fb.style.display='block'; fb.style.borderLeftColor='#16a34a';
                    document.getElementById('next-btn').style.display='inline-block';
                }
            } else { selectedMatch.tile.classList.remove('selected'); selectedMatch=null; }
        }
    }

    function nextQuestion() {
        qIdx++; if(qIdx<questions.length) renderQuestion(); else showResult();
    }

    function showResult() {
        document.getElementById('quiz-active').classList.add('hidden');
        document.getElementById('quiz-result').classList.remove('hidden');
        const pct = Math.round((score/questions.length)*100);
        document.getElementById('score-display').textContent = pct+'%';
        const img = document.getElementById('meme-reward');
        if(pct===100) { img.style.display='block'; document.getElementById('result-msg').textContent="Hervorragend!"; }
        else { img.style.display='none'; document.getElementById('result-msg').textContent="Gut gemacht!"; }
    }
</script>

</body>
</html>
